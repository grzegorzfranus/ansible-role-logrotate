#jinja2: trim_blocks: True, lstrip_blocks: True
# =============================================================================
# os_logrotate | templates/logrotate.conf.j2
# Main logrotate configuration generated by Ansible
# =============================================================================

# see "man logrotate" for details

# global options do not affect preceding include directives

# rotate log files {{ logrotate_frequency }}
{% if logrotate_frequency in ['daily','weekly','monthly'] %}
{{ logrotate_frequency }}
{% endif %}

# use the adm group by default, since this is the owning group
# of /var/log/.
su {{ logrotate_su_user | default('root') }} {{ logrotate_su_group | default('adm') }}

# keep {{ logrotate_rotate }} weeks worth of backlogs
rotate {{ logrotate_rotate }}

# create new (empty) log files after rotating old ones
{% if logrotate_create is string and logrotate_create | length > 0 %}
create {{ logrotate_create }}
{% else %}
create
{% endif %}

# use date as a suffix of the rotated file
{% if logrotate_dateext %}
dateext
{% if logrotate_dateformat %}dateformat {{ logrotate_dateformat }}{% endif %}
{% else %}
#dateext
{% endif %}

# uncomment this if you want your log files compressed
{% if logrotate_compress %}
compress
{% else %}
#compress
{% endif %}

# packages drop log rotation information into this directory
include /etc/logrotate.d

# system-specific logs may also be configured here.
